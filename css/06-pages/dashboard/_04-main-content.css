/* ==========================================================================
   3. MAIN CONTENT (Ana Stiller)
   ========================================================================== */
.main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; position: relative; background: var(--dash-bg); width: 100%; }
.top-bar {
    height: 64px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between;
    padding: 0 32px; background: var(--dash-sidebar); z-index: 40;
}
.top-bar h2 { font-size: 1.1rem; font-weight: 600; margin: 0; color: #fff; }
.user-profile { display: flex; align-items: center; gap: 12px; font-size: 0.9rem; font-weight: 500; }
.avatar {
    width: 38px; height: 38px; background: #2f3349; color: #fff; border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-weight: 700; border: 1px solid var(--border);
}
.content-scroll { padding: 24px; overflow-y: auto; height: 100%; scrollbar-width: thin; scrollbar-color: #333 transparent; }

/* ==========================================================================
   MOBİL KESİN ÇÖZÜM - OVERLAY (ÜZERİNE AÇILMA) VE SOL ALT BUTON
   ========================================================================== */
@media screen and (max-width: 992px) {
  
  /* 1. FLEX YAPISINI TAMAMEN İPTAL ET (Bütün yan yana dizilmeleri bozar) */
  body, html {
    display: block !important; /* Flex'i iptal eder, sidebar ana içeriği fiziksel olarak itemez */
    overflow-x: hidden !important;
    width: 100% !important;
  }

  /* 2. ANA İÇERİK (ASLA HAREKET ETMEZ VE SIKIŞMAZ) */
  .main-content,
  body:not(.sidebar-closed) .main-content,
  body.sidebar-closed .main-content {
    display: flex !important;
    width: 100vw !important;
    max-width: 100vw !important;
    margin-left: 0 !important; /* Javascript'in sağa itme komutunu İPTAL EDER */
    padding-left: 0 !important;
    left: 0 !important;
    transform: none !important;
    position: relative !important;
  }

  /* 3. YÜZEN BUTON (SOL ALT KÖŞE) */
  #floating-toggle-btn {
    display: flex !important;
    position: fixed !important;
    top: auto !important; 
    bottom: 25px !important; 
    left: 25px !important; 
    z-index: 99999 !important; 
    opacity: 1 !important;
    visibility: visible !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5) !important;
  }

  .top-bar {
    padding-left: 20px !important;
    padding-right: 20px !important;
  }

  /* 4. SİDEBAR (ANA İÇERİĞİN ÜSTÜNE KAYARAK GELSİN) */
  .sidebar {
    position: fixed !important;
    top: 0 !important;
    left: -320px !important; /* Ekranın tamamen dışında bekle */
    height: 100vh !important;
    width: 280px !important;
    z-index: 99998 !important;
    transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 10px 0 30px rgba(0,0,0,0.8) !important; /* İçeriğin üstünde durduğunu belli eden şık gölge */
    margin: 0 !important;
  }

  /* Menü açıldığında SADECE sidebar hareket etsin */
  body:not(.sidebar-closed) .sidebar,
  .sidebar.active {
    left: 0 !important;
  }

  /* 5. İÇERİK KAYDIRMASI */
  .content-scroll {
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important; /* Telefonda kaymak gibi hissiyat */
    padding: 15px !important;
    padding-bottom: 90px !important; /* Sol alttaki butonun arkasında yazı kalmasın diye alt boşluk */
  }
}
